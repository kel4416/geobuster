<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>GeoBuster</title>
		<link href="css/ui-darkness/jquery-ui-1.10.2.custom.css" rel="stylesheet">
		<link href="css/style.css" media="screen" rel="stylesheet" type="text/css" />

		<script src="js/jquery-1.9.1.js"></script>
		<script src="js/jquery-ui-1.10.2.custom.js"></script>

		<script src="js/d3.v3.js"></script>
		<script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>
		<script src="http://d3js.org/topojson.v0.min.js"></script>

		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
		<script>
			$(document).ready(function() {
				//whatever functions you want to do with jquery here
			});
		</script>
	</head>
	<body>
		<table border="1" align="center" width="80%">
			<tr>
				<td align="center" width="80%"><div id="map"></div><script src="js/map.js" type="text/javascript"></script></td>
				<td align="center" valign="top"><h3>Select Volcano Type</h3><div id="volcano_type"></div>
				<script>
					function change(d) {
						//alert(this.value);
						//var filtered json =
						var selectedValue = this.value;
						g.selectAll(".volcano").attr("visibility",function(d){
							return d.properties.TYPE === selectedValue ? "visible" : "hidden";
							
						});
						
						g.selectAll(".volcano-label").attr("visibility",function(d){
							return d.properties.TYPE === selectedValue ? "visible" : "hidden";
							
						});	
					}


					d3.json("data/volcano.geojson", function(collection) {
						d3.select("#volcano_type").append("select").on("change", change).selectAll("option").data(collection.features).enter().append("option").attr("value", function(d) {
							return d.properties.TYPE;
						}).text(function(d) {
							return d.properties.TYPE;
						});
					});

				</script></td>
			</tr>
			<tr>
				<td> Supplementary Graph </td>
				<td> Statistics DashBoard </td>
			</tr>
		</table>
	</body>
</html>
